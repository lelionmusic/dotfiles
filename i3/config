# Gaps
set $ing    16
set $oug 	0

set $mod Mod1
set $win Mod4

set_from_resource $darkred     	color1  #000000
set_from_resource $red         	color9  #000000
set_from_resource $darkgreen   	color2  #000000
set_from_resource $green       	color10 #000000
set_from_resource $darkyellow  	color3  #000000
set_from_resource $yellow      	color11 #000000
set_from_resource $darkblue    	color4  #000000
set_from_resource $blue        	color12 #000000
set_from_resource $darkmagenta 	color5  #000000
set_from_resource $magenta     	color13 #000000
set_from_resource $darkcyan    	color6  #000000
set_from_resource $cyan			color14 #000000
set_from_resource $darkwhite	color7  #000000
set_from_resource $white		color15	#000000

# Window Border Thickness
set $bordersize 0
# Bar Background Text
set $background #00000055
# Bar Warning Colour
set $warning    #e84f4f
# Active Window Colour
set $border    	#00000000
# Bar Text Colour
set $bartext    #eeeeee
# Active Workspace Color
set $barfoc     #456056
# Unfocused Window/Workspace Colour
set $ufocus     #00000000
# Window Decoraction Text Colour
set $dectext #ffffff

# Font for window titles. Will also be used by the bar unless a different font
# is used in the bar {} block below.
# font pango:monospace 8
font pango:San Francisco Display 10

# Before i3 v4.8, we used to recommend this one as the default:
# font -misc-fixed-medium-r-normal--13-120-75-75-C-70-iso10646-1
# The font above is very space-efficient, that is, it looks good, sharp and
# clear in small sizes. However, its unicode glyph coverage is limited, the old
# X core fonts rendering does not support right-to-left and this being a bitmap
# font, it doesn’t scale on retina/hidpi displays.

# Use Mouse+$mod to drag floating windows to their wanted position
floating_modifier $mod

# kill focused window
bindsym $mod+Shift+q kill

# alt f4? idk
bindsym $mod+F4 exec xdotool getwindowfocus windowkill

# lock screen
bindsym $win+L exec dm-tool lock

# arch blur i3lock
bindsym ctrl+$mod+L exec ~/dotfiles/scripts/screenlock.sh

#######################
#				      #
#	Launching hotkeys #
#					  #
#######################

# terminal
bindsym $win+x exec xfce4-terminal 
bindsym $win+Shift+x exec xfce4-terminal -T "floating"
# rofi 
bindsym $win+f exec ~/dotfiles/scripts/rofi.sh
# firefox
bindsym $win+w exec firefox
# file explorer
bindsym $win+e exec nemo --no-desktop &
# emacs
bindsym $win+a exec emacsclient -c -a ""

# border on, see where focus is
bindsym $mod+i exec i3-msg border pixel 1
bindsym --release $mod+i exec i3-msg border pixel $bordersize




# change focus
# bindsym $mod+h focus left
# bindsym $mod+j focus down
# bindsym $mod+k focus up
# bindsym $mod+l focus right
bindsym $mod+h exec i3-msg border pixel 1; focus left
bindsym $mod+j exec i3-msg border pixel 1; focus down
bindsym $mod+k exec i3-msg border pixel 1; focus up
bindsym $mod+l exec i3-msg border pixel 1; focus right
bindsym --release $mod+h exec i3-msg border pixel $bordersize
bindsym --release $mod+j exec i3-msg border pixel $bordersize
bindsym --release $mod+k exec i3-msg border pixel $bordersize
bindsym --release $mod+l exec i3-msg border pixel $bordersize

# move focused window
# bindsym $mod+Shift+h move left
# bindsym $mod+Shift+j move down
# bindsym $mod+Shift+k move up
# bindsym $mod+Shift+l move right
bindsym $mod+Shift+h exec i3-msg border pixel 1; move left
bindsym $mod+Shift+j exec i3-msg border pixel 1; move down
bindsym $mod+Shift+k exec i3-msg border pixel 1; move up
bindsym $mod+Shift+l exec i3-msg border pixel 1; move right
bindsym --release $mod+Shift+h exec i3-msg border pixel $bordersize
bindsym --release $mod+Shift+j exec i3-msg border pixel $bordersize
bindsym --release $mod+Shift+k exec i3-msg border pixel $bordersize
bindsym --release $mod+Shift+l exec i3-msg border pixel $bordersize

# split in horizontal orientation
bindsym $mod+d split h
# split in vertical orientation
bindsym $mod+v split v

# enter fullscreen mode for the focused container
bindsym $mod+f fullscreen toggle

# change container layout (stacked, tabbed, toggle split)
bindsym $mod+s layout stacking
bindsym $mod+w layout tabbed
bindsym $mod+e layout toggle split

# toggle tiling / floating
bindsym $mod+Shift+space floating toggle

# change focus between tiling / floating windows
bindsym $mod+space focus mode_toggle

# focus the parent container
bindsym $mod+a focus parent

# focus the child container
bindsym $mod+c focus child

# switch to workspace
bindsym $mod+1 workspace 1
bindsym $mod+2 workspace 2
bindsym $mod+3 workspace 3
bindsym $mod+4 workspace 4
bindsym $mod+5 workspace 5
bindsym $mod+6 workspace 6
bindsym $mod+7 workspace 7
bindsym $mod+8 workspace 8
bindsym $mod+9 workspace 9
bindsym $mod+0 workspace 10

# move focused container to workspace
bindsym $mod+Shift+1 move container to workspace 1
bindsym $mod+Shift+2 move container to workspace 2
bindsym $mod+Shift+3 move container to workspace 3
bindsym $mod+Shift+4 move container to workspace 4
bindsym $mod+Shift+5 move container to workspace 5
bindsym $mod+Shift+6 move container to workspace 6
bindsym $mod+Shift+7 move container to workspace 7
bindsym $mod+Shift+8 move container to workspace 8
bindsym $mod+Shift+9 move container to workspace 9
bindsym $mod+Shift+0 move container to workspace 10

# reload the configuration file
bindsym $mod+Shift+c reload
# restart i3 inplace (preserves your layout/session, can be used to upgrade i3)
bindsym $mod+Shift+r restart
# exit i3 (logs you out of your X session)
bindsym $mod+Shift+e exec "i3-nagbar -t warning -m 'You pressed the exit shortcut. Do you really want to exit i3? This will end your X session.' -b 'Yes, exit i3' 'i3-msg exit'"

# resize window (you can also use the mouse for that)
mode "resize" {
        # These bindings trigger as soon as you enter the resize mode

        # Pressing left will shrink the window’s width.
        # Pressing right will grow the window’s width.
        # Pressing up will shrink the window’s height.
        # Pressing down will grow the window’s height.
        bindsym h resize shrink width 20 px or 20 ppt
        bindsym j resize grow height 20 px or 20 ppt
        bindsym k resize shrink height 20 px or 20 ppt
        bindsym l resize grow width 20 px or 20 ppt

        # same bindings, but for the arrow keys
        bindsym Left resize shrink width 10 px or 10 ppt
        bindsym Down resize grow height 10 px or 10 ppt
        bindsym Up resize shrink height 10 px or 10 ppt
        bindsym Right resize grow width 10 px or 10 ppt

        # back to normal: Enter or Escape
        bindsym Return mode "default"
        bindsym Escape mode "default"
}

bindsym $mod+r mode "resize"

######################
#			 		 #
#     Aesthetics     #
#					 # 
######################

# Border style
for_window [class="^.*"] border pixel $bordersize
hide_edge_borders smart

# Gaps
gaps inner $ing
gaps outer $oug 
# No gaps on workspaces with only one window
# smart_gaps on
workspace 1 gaps inner 0 

# class                 border   backgr.  text      indicator
client.focused          $border  $border  $dectext  $border
client.unfocused        $ufocus  $ufocus  $dectext  $ufocus
client.focused_inactive $ufocus  $ufocus  $dectext  $ufocus
client.urgent           $dectext $dectext $dectext  $dectext

mode "Gaps" {
     bindsym plus gaps inner current plus 5
     bindsym minus gaps inner current minus 5
     bindsym 0 gaps inner current set $ing
     bindsym 9 gaps outer current plus 5
     bindsym 8 gaps outer current minus 5
     bindsym 7 gaps outer current set $oug
     bindsym 6 gaps inner current set 0
     bindsym 5 gaps outer current set 0

     bindsym Return mode "default"
     bindsym Escape mode "default"
}

bindsym $mod+g mode "Gaps"

###################################
#								  #
#		Auto start programs		  #
#								  #
###################################

exec --no-startup-id compton &
exec_always --no-startup-id ~/dotfiles/polybar/launch.sh &
exec --no-startup-id xfsettingsd --sm-client-disable &
exec --no-startup-id xfce4-power-manager --sm-client-disable &
exec --no-startup-id xfce4-volumed --sm-client-disable &

# Wallpaper
exec_always --no-startup-id feh --bg-fill ~/Pictures/wallpapers/active/floweronrock.png

# Behavior
workspace_auto_back_and_forth yes
focus_follows_mouse no

# Window settings
no_focus [class="^Xfce4-notifyd$" ]
for_window [title="floating"] floating enable
